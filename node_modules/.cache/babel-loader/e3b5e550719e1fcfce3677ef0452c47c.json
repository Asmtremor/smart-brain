{"ast":null,"code":"import e, { useState as t, useRef as n, useEffect as r, useLayoutEffect as i, useCallback as o } from \"react\";\n\nfunction a() {\n  return (a = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];\n\n      for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction c(_ref) {\n  let {\n    style: c = {},\n    className: s = \"\",\n    reverse: l = !1,\n    max: u = 35,\n    perspective: d = 1e3,\n    easing: f = \"cubic-bezier(.03,.98,.52,.99)\",\n    scale: g = 1,\n    speed: m = 300,\n    axis: p = \"\",\n    reset: w = !0,\n    glare: v = !1,\n    maxGlare: h = 1,\n    glareStyle: y = {},\n    gyroscope: M = !0,\n    gyroscopeMinAngleX: E = -45,\n    gyroscopeMaxAngleX: x = 45,\n    gyroscopeMinAngleY: b = -45,\n    gyroscopeMaxAngleY: Y = 45,\n    onMouseEnter: A = () => {},\n    onMouseMove: X = () => {},\n    onMouseLeave: $ = () => {},\n    onTiltChange: F = () => {},\n    children: L\n  } = _ref;\n  const [C, W] = t({\n    position: \"relative\",\n    willChange: \"transform\"\n  }),\n        [N, O] = t({\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    pointerEvents: \"none\",\n    backgroundImage: \"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)\",\n    transform: \"rotate(180deg) translate(-50%, -50%)\",\n    transformOrigin: \"0% 0%\",\n    opacity: \"0\"\n  }),\n        T = n(0),\n        q = n(0),\n        z = n(0),\n        j = n(0),\n        I = n(null),\n        P = n(null),\n        k = l ? 1 : -1,\n        B = n(null);\n  r(() => () => {\n    clearTimeout(I.current), \"undefined\" != typeof window && window.cancelAnimationFrame(P.current);\n  }, []), r(() => {\n    if (!v || \"undefined\" == typeof window) return () => {};\n\n    const e = () => {\n      O(e => a({}, e, {\n        width: 2 * B.current.offsetWidth,\n        height: 2 * B.current.offsetWidth\n      }));\n    };\n\n    return window.addEventListener(\"resize\", e), () => {\n      window.removeEventListener(\"resize\", e);\n    };\n  }, [v]), i(() => {\n    O(e => a({}, e, {\n      width: 2 * B.current.offsetWidth,\n      height: 2 * B.current.offsetWidth\n    }));\n  }, []);\n\n  const G = () => {\n    const e = B.current.getBoundingClientRect();\n    T.current = B.current.offsetWidth, q.current = B.current.offsetHeight, z.current = e.left, j.current = e.top;\n  },\n        H = o(e => {\n    let t = (e.nativeEvent.clientX - z.current) / T.current,\n        n = (e.nativeEvent.clientY - j.current) / q.current;\n    return t = Math.min(Math.max(t, 0), 1), n = Math.min(Math.max(n, 0), 1), {\n      tiltX: (k * (u / 2 - t * u)).toFixed(2),\n      tiltY: (k * (n * u - u / 2)).toFixed(2),\n      percentageX: 100 * t,\n      percentageY: 100 * n,\n      angle: Math.atan2(e.nativeEvent.clientX - (z.current + T.current / 2), -(e.nativeEvent.clientY - (j.current + q.current / 2))) * (180 / Math.PI)\n    };\n  }, [u, k]),\n        R = o(e => {\n    const t = H(e);\n    W(e => a({}, e, {\n      transform: `perspective(${d}px) rotateX(${\"x\" === p.toLowerCase() ? 0 : t.tiltY}deg) rotateY(${\"y\" === p.toLowerCase() ? 0 : t.tiltX}deg) scale3d(${g}, ${g}, ${g})`\n    })), v && O(e => a({}, e, {\n      transform: `rotate(${t.angle}deg) translate(-50%, -50%)`,\n      opacity: t.percentageY * h / 100\n    })), B.current.dispatchEvent(new CustomEvent(\"tiltChange\", {\n      detail: t\n    })), F({\n      detail: t\n    }), P.current = null;\n  }, [p, H, v, h, d, g, F]),\n        S = () => {\n    clearTimeout(I.current), W(e => a({}, e, {\n      transition: `${m}ms ${f}`\n    })), I.current = setTimeout(() => {\n      W(e => a({}, e, {\n        transition: \"\"\n      }));\n    }, m);\n  };\n\n  return r(() => {\n    if (!M) return () => {};\n\n    const e = e => {\n      if (null === e.gamma || null === e.beta || \"undefined\" == typeof window) return;\n      G();\n      const t = (e.gamma - E) / ((x - E) / T.current),\n            n = (e.beta - b) / ((Y - b) / q.current);\n      null !== P.current && \"undefined\" != typeof window && window.cancelAnimationFrame(P.current), e.nativeEvent = {\n        clientX: t + z.current,\n        clientY: n + j.current\n      }, P.current = requestAnimationFrame(() => R(e));\n    };\n\n    return window.addEventListener(\"deviceorientation\", e), () => {\n      window.removeEventListener(\"deviceorientation\", e);\n    };\n  }, [M, x, Y, E, b, R]), e.createElement(\"div\", {\n    ref: B,\n    style: a({}, c, C),\n    className: s,\n    onMouseEnter: e => (G(), S(), A(e)),\n    onMouseMove: e => (e.persist(), null !== P.current && \"undefined\" != typeof window && window.cancelAnimationFrame(P.current), P.current = requestAnimationFrame(() => R(e)), X(e)),\n    onMouseLeave: e => (S(), w && \"undefined\" != typeof window && window.requestAnimationFrame(() => {\n      W(e => a({}, e, {\n        transform: `perspective(${d}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`\n      })), v && O(e => a({}, e, {\n        transform: \"rotate(180deg) translate(-50%, -50%)\",\n        opacity: 0\n      }));\n    }), $(e))\n  }, v && e.createElement(\"div\", {\n    className: \"tilty-glare-wrapper\",\n    style: {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\"\n    }\n  }, e.createElement(\"div\", {\n    className: \"tilty-glare\",\n    style: a({}, y, N)\n  })), L);\n}\n\nexport default c;","map":{"version":3,"mappings":"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","names":["Tilty","children","style","className","reverse","max","perspective","easing","scale","speed","axis","reset","glare","maxGlare","glareStyle","gyroscope","gyroscopeMinAngleX","gyroscopeMaxAngleX","gyroscopeMinAngleY","gyroscopeMaxAngleY","onMouseEnter","onMouseMove","onMouseLeave","onTiltChange","styleState","setStyle","useState","position","willChange","glareStyleState","setGlareStyle","top","left","pointerEvents","backgroundImage","transform","transformOrigin","opacity","width","useRef","height","transitionTimeout","updateCall","reverseNum","element","useEffect","clearTimeout","current","window","cancelAnimationFrame","updateGlareSize","prevGlareStyle","offsetWidth","addEventListener","removeEventListener","useLayoutEffect","updateElementPosition","rect","getBoundingClientRect","offsetHeight","getValues","useCallback","e","x","nativeEvent","clientX","y","clientY","Math","min","tiltX","toFixed","tiltY","percentageX","percentageY","angle","atan2","PI","update","values","prevStyle","toLowerCase","dispatchEvent","CustomEvent","detail","setTransition","transition","setTimeout","onDeviceOrientation","gamma","beta","posX","posY","requestAnimationFrame","React","ref","persist","overflow"],"sources":["D:\\p\\wapp\\react_js\\mlp\\node_modules\\react-tilty\\src\\index.js"],"sourcesContent":["import React, {\n  useState,\n  useRef,\n  useEffect,\n  useLayoutEffect,\n  useCallback,\n} from 'react';\n\nfunction Tilty({\n  style = {},\n  className = '',\n  reverse = false,\n  max = 35,\n  perspective = 1000,\n  easing = 'cubic-bezier(.03,.98,.52,.99)',\n  scale = 1,\n  speed = 300,\n  axis = '',\n  reset = true,\n  glare = false,\n  maxGlare = 1,\n  glareStyle = {},\n  gyroscope = true,\n  gyroscopeMinAngleX = -45,\n  gyroscopeMaxAngleX = 45,\n  gyroscopeMinAngleY = -45,\n  gyroscopeMaxAngleY = 45,\n  onMouseEnter = () => {},\n  onMouseMove = () => {},\n  onMouseLeave = () => {},\n  onTiltChange = () => {},\n  children,\n}) {\n  // VARIABLES\n  const [styleState, setStyle] = useState({\n    position: 'relative',\n    willChange: 'transform',\n  });\n  const [glareStyleState, setGlareStyle] = useState({\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    pointerEvents: 'none',\n    backgroundImage: `linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)`,\n    transform: 'rotate(180deg) translate(-50%, -50%)',\n    transformOrigin: '0% 0%',\n    opacity: '0',\n  });\n\n  const width = useRef(0);\n  const height = useRef(0);\n  const left = useRef(0);\n  const top = useRef(0);\n  const transitionTimeout = useRef(null);\n  const updateCall = useRef(null);\n  const reverseNum = reverse ? 1 : -1;\n\n  const element = useRef(null);\n\n  // UNMOUNT\n  useEffect(() => {\n    return () => {\n      clearTimeout(transitionTimeout.current);\n      if (typeof window !== 'undefined') {\n        window.cancelAnimationFrame(updateCall.current);\n      }\n    };\n  }, []);\n\n  // GLARE\n  useEffect(() => {\n    if (!glare || typeof window === 'undefined') {\n      return () => {};\n    }\n\n    const updateGlareSize = () => {\n      setGlareStyle((prevGlareStyle) => ({\n        ...prevGlareStyle,\n        width: element.current.offsetWidth * 2,\n        height: element.current.offsetWidth * 2,\n      }));\n    };\n\n    window.addEventListener('resize', updateGlareSize);\n\n    return () => {\n      window.removeEventListener('resize', updateGlareSize);\n    };\n  }, [glare]);\n\n  useLayoutEffect(() => {\n    setGlareStyle((prevGlareStyle) => ({\n      ...prevGlareStyle,\n      width: element.current.offsetWidth * 2,\n      height: element.current.offsetWidth * 2,\n    }));\n  }, []);\n\n  // TILT FUNCTIONS\n  const updateElementPosition = () => {\n    const rect = element.current.getBoundingClientRect();\n    width.current = element.current.offsetWidth;\n    height.current = element.current.offsetHeight;\n    left.current = rect.left;\n    top.current = rect.top;\n  };\n\n  const getValues = useCallback(\n    (e) => {\n      let x = (e.nativeEvent.clientX - left.current) / width.current;\n      let y = (e.nativeEvent.clientY - top.current) / height.current;\n\n      x = Math.min(Math.max(x, 0), 1);\n      y = Math.min(Math.max(y, 0), 1);\n\n      const tiltX = (reverseNum * (max / 2 - x * max)).toFixed(2);\n      const tiltY = (reverseNum * (y * max - max / 2)).toFixed(2);\n\n      const angle =\n        Math.atan2(\n          e.nativeEvent.clientX - (left.current + width.current / 2),\n          -(e.nativeEvent.clientY - (top.current + height.current / 2))\n        ) *\n        (180 / Math.PI);\n\n      const percentageX = x * 100;\n      const percentageY = y * 100;\n\n      return {\n        tiltX,\n        tiltY,\n        percentageX,\n        percentageY,\n        angle,\n      };\n    },\n    [max, reverseNum]\n  );\n\n  const update = useCallback(\n    (e) => {\n      const values = getValues(e);\n\n      setStyle((prevStyle) => ({\n        ...prevStyle,\n        transform: `perspective(${perspective}px) rotateX(${\n          axis.toLowerCase() === 'x' ? 0 : values.tiltY\n        }deg) rotateY(${\n          axis.toLowerCase() === 'y' ? 0 : values.tiltX\n        }deg) scale3d(${scale}, ${scale}, ${scale})`,\n      }));\n\n      if (glare) {\n        setGlareStyle((prevGlareStyle) => ({\n          ...prevGlareStyle,\n          transform: `rotate(${values.angle}deg) translate(-50%, -50%)`,\n          opacity: (values.percentageY * maxGlare) / 100,\n        }));\n      }\n\n      // fire tiltChange event and callback\n      element.current.dispatchEvent(\n        new CustomEvent('tiltChange', {\n          detail: values,\n        })\n      );\n\n      onTiltChange({ detail: values });\n\n      updateCall.current = null;\n    },\n    [axis, getValues, glare, maxGlare, perspective, scale, onTiltChange]\n  );\n\n  const setTransition = () => {\n    clearTimeout(transitionTimeout.current);\n\n    setStyle((prevStyle) => ({\n      ...prevStyle,\n      transition: `${speed}ms ${easing}`,\n    }));\n\n    transitionTimeout.current = setTimeout(() => {\n      setStyle((prevStyle) => ({\n        ...prevStyle,\n        transition: '',\n      }));\n    }, speed);\n  };\n\n  const handleReset = () => {\n    if (typeof window !== 'undefined') {\n      window.requestAnimationFrame(() => {\n        setStyle((prevStyle) => ({\n          ...prevStyle,\n          transform: `perspective(${perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`,\n        }));\n\n        if (glare) {\n          setGlareStyle((prevGlareStyle) => ({\n            ...prevGlareStyle,\n            transform: 'rotate(180deg) translate(-50%, -50%)',\n            opacity: 0,\n          }));\n        }\n      });\n    }\n  };\n\n  // MOUSE EVENTS\n  const handleMouseEnter = (e) => {\n    updateElementPosition();\n    setTransition();\n    return onMouseEnter(e);\n  };\n\n  const handleMouseMove = (e) => {\n    e.persist();\n    if (updateCall.current !== null && typeof window !== 'undefined') {\n      window.cancelAnimationFrame(updateCall.current);\n    }\n    updateCall.current = requestAnimationFrame(() => update(e));\n    return onMouseMove(e);\n  };\n\n  const handleMouseLeave = (e) => {\n    setTransition();\n\n    if (reset) {\n      handleReset();\n    }\n\n    return onMouseLeave(e);\n  };\n\n  // DEVICE GYROSCOPE TILTING\n  useEffect(() => {\n    if (!gyroscope) {\n      return () => {};\n    }\n\n    const onDeviceOrientation = (e) => {\n      if (\n        e.gamma === null ||\n        e.beta === null ||\n        typeof window === 'undefined'\n      ) {\n        return;\n      }\n\n      updateElementPosition();\n\n      const totalAngleX = gyroscopeMaxAngleX - gyroscopeMinAngleX;\n      const totalAngleY = gyroscopeMaxAngleY - gyroscopeMinAngleY;\n\n      const degreesPerPixelX = totalAngleX / width.current;\n      const degreesPerPixelY = totalAngleY / height.current;\n\n      const angleX = e.gamma - gyroscopeMinAngleX;\n      const angleY = e.beta - gyroscopeMinAngleY;\n\n      const posX = angleX / degreesPerPixelX;\n      const posY = angleY / degreesPerPixelY;\n\n      if (updateCall.current !== null && typeof window !== 'undefined') {\n        window.cancelAnimationFrame(updateCall.current);\n      }\n\n      e.nativeEvent = {\n        clientX: posX + left.current,\n        clientY: posY + top.current,\n      };\n\n      updateCall.current = requestAnimationFrame(() => update(e));\n    };\n\n    window.addEventListener('deviceorientation', onDeviceOrientation);\n\n    return () => {\n      window.removeEventListener('deviceorientation', onDeviceOrientation);\n    };\n  }, [\n    gyroscope,\n    gyroscopeMaxAngleX,\n    gyroscopeMaxAngleY,\n    gyroscopeMinAngleX,\n    gyroscopeMinAngleY,\n    update,\n  ]);\n\n  return (\n    <div\n      ref={element}\n      style={{\n        ...style,\n        ...styleState,\n      }}\n      className={className}\n      onMouseEnter={handleMouseEnter}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseLeave}\n    >\n      {glare && (\n        <div\n          className=\"tilty-glare-wrapper\"\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            overflow: 'hidden',\n          }}\n        >\n          <div\n            className=\"tilty-glare\"\n            style={{\n              ...glareStyle,\n              ...glareStyleState,\n            }}\n          />\n        </div>\n      )}\n      {children}\n    </div>\n  );\n}\n\nexport default Tilty;\n"]},"metadata":{},"sourceType":"module"}